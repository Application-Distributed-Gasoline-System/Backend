syntax = "proto3";

package drivers;

service DriversService {
  rpc GetAllDrivers (GetAllDriversRequest) returns (DriversResponse);
  rpc GetDriverById (DriverByIdRequest) returns (DriverResponse);
  rpc CreateDriver (CreateDriverRequest) returns (DriverResponse);
  rpc UpdateDriver (UpdateDriverRequest) returns (DriverResponse);
  rpc DeleteDriver (DriverByIdRequest) returns (DriverResponse);
}

// ======== Requests ========

message GetAllDriversRequest {
  int32 page = 1;
  int32 limit = 2;
}

message DriverByIdRequest {
  string id = 1;
}

message CreateDriverRequest {
  string name = 1;
  string license = 2;
}

message UpdateDriverRequest {
  string id = 1;
  string name = 2;
  string license = 3;
}

message DriverResponse {
  string id = 1;
  string name = 2;
  string license = 3;
  string message = 4;
}

// ======== Responses ========

message DriversResponse {
  repeated DriverResponse drivers = 1;
}

message GetAllDriversResponse {
  repeated DriverResponse drivers = 1;  
  int32 total = 2;                      
  int32 page = 3;                       
  int32 totalPages = 4;                 
}